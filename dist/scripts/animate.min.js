$.animateJs={},$.animateJs.stringManipulation={},$.animateJs.stringManipulation.options={workingAttr:"data-animate",reflections:{iteration:{called:"iteration",names:["repeat","itr","Itr","Repeat","run"]},duration:{called:"duration",names:["duration","dur","Duration","Dur","wait","till"]},delay:{called:"delay",names:["delay","Delay"]},selection:{called:"select",names:["selection","select","selector","Select","Selection","Selector"]},remove:{called:"remove",names:["remove","delete","Remove","Delete"]}},seperator:"->",multi:"+"},$.animateJs.stringManipulation.extractActions=function(t){return t.split(this.options.seperator)},$.animateJs.stringManipulation.getParameterValue=function(t){var e=t.indexOf("(")+1,n=t.indexOf(")");'"'!==t[e]&&"'"!==t[e]||e++,'"'!==t[n-1]&&"'"!==t[n-1]||n--;return t.substr(e,n-e)},$.animateJs.stringManipulation.getFuncName=function(t){for(var e,n,i=this.options.reflections,a=Object.keys(i),s=0;s<a.length;s++){n=(e=i[a[s]]).names;for(var r=0;r<n.length;r++){var l=n[r]+"(";if(t.indexOf(l)>-1)return e.called}}return null},$.animateJs.stringManipulation.initiateCurrentStyle=function(){return{selection:null,style:null,delay:"0",iteration:"1",duration:"1",remove:!1}},$.animateJs.stringManipulation.processJoinCommand=function(t,e,n){var i={};e.push(t);for(var a=1;a<n.length-1;a++)(t=this.initiateCurrentStyle()).selection=e[0].selection,t.style=n[a],e.push(t);return t=this.initiateCurrentStyle(),t.style=n[n.length-1],i.simultaneousStyles=e,i.nowStyle=t,i},$.animateJs.stringManipulation.extractStyles=function(t){for(var e,n,i,a,s,r=this.extractActions(t),l=!1,o=!1,u=[],p=[],c="",h=0;h<r.length;h++)r[h].indexOf("(")>-1?(n=this.getFuncName(r[h]),i=this.getParameterValue(r[h]),n===this.options.reflections.selection.called?(o&&(p.push(c),u.push(p)),p=[],o=!0,l=!0,(c=this.initiateCurrentStyle()).selection=""+i):n===this.options.reflections.remove.called?c.remove=!0:(l=!1,s=1!==(a=r[h].split("+")).length,c[n]=""+i,s&&(c=(e=this.processJoinCommand(c,p,a)).nowStyle,p=e.simultaneousStyles))):(s=1!==(a=r[h].split("+")).length,l?(o=!0,l=!1):(o&&(p.push(c),u.push(p)),p=[],o=!0,c=this.initiateCurrentStyle()),c.style=a[0],s&&(c=(e=this.processJoinCommand(c,p,a)).nowStyle,p=e.simultaneousStyles));return o&&(p.push(c),u.push(p)),u},$.animateJs.styleManipulation={},$.animateJs.styleManipulation.applySingleStyle=function(t,e,n){var i=e.style,a=(parseInt(e.delay)+parseInt(n)).toString()+"s";console.log("time "+a),t.addClass(i+" animated"),t.css({"animation-delay":a,"animation-duration":e.duration.toString(),"animation-iteration-count":e.iteration.toString()})},$.animateJs.styleManipulation.totalDuration=function(t){var e,n,i,a,s,r=0;for(e=0;e<t.length;e++)n=t[e],a=this.trimSecond(n.delay),s=n.iteration,i=a+this.trimSecond(n.duration)*s,r=Math.max(i,r);return r},$.animateJs.styleManipulation.trimSecond=function(t){return parseFloat(t,10)},$.animateJs.styleManipulation.wrapper=function(t,e,n){return _.isEmpty(e)&&(e="wrapper"),_.isEmpty(n)?t.wrap("<span class='ajs-"+e+"'></span>"):(t.wrap("<span class='"+e+"'id='"+n+"'></span>"),t)},$.animateJs.styleManipulation.applySimultaneousStyle=function(t,e,n,i){var a,s=t[0];return this.applySingleStyle(e,t[0],n),i||!0!==s.remove||(i=!0),t.shift(),t.length?(a=this.wrapper(e,"wrapper").parent(),this.applySimultaneousStyle(t,a,0,i)):(console.log("hi "),console.log(e),e)},$.animateJs.styleManipulation.multipleAnimation=function(t){for(var e=0,n=0;n<t.length;n++)if(null===t[n][0].selection&&e++,e>=2)return!0;return!1},$.animateJs.styleManipulation.processActionList=function(t,e){for(var n,i,a,s,r,l=0,o=this.multipleAnimation(t),u="wrapper-start",p=0;p<t.length;p++){if(r=t[p][0].selection,n=this.totalDuration(t[p]),null!==r){if(i=t[p].length>1,0===(a=$(r)).length&&this.throwException)throw new Error('"'+r+'" cannot be found in the page.');if(e.length)for(var c=0;c<a.length;c++)s=$(a[p]),i&&this.wrapper(s,u),this.applySimultaneousStyle(t[p],s,l,!1)}else o?(o=!1,this.wrapper(e,u)):e=this.wrapper(e,"wrapper").parent(),e=this.applySimultaneousStyle(t[p],e,l,!1),console.log(e);l+=n}},$.animateJs.init=function(t,e){String.prototype.replaceAll=function(t,e,n){return this.replace(new RegExp(t.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),n?"gi":"g"),"string"==typeof e?e.replace(/\$/g,"$$$$"):e)},this.elem=e,this.$elem=$(e),this.throwException=!0,"string"!=typeof t?(this.stringManipulation.options=$.extend({},this.stringManipulation.options,t),this.attrValue=this.elem.attr(this.stringManipulation.options.workingAttr)):this.attrValue=t,console.log(this.attrValue);var n=this.stringManipulation.extractStyles(this.attrValue),i=n.slice(0),a=jQuery.extend(!0,{},n),s=Object.keys(a);return console.log(a[s[0]]),this.styleManipulation.processActionList(i,this.$elem),this},$(function(){"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),$.plugin=function(t,e){$.fn[t]=function(n){return this.each(function(){$.data(this,t)||$.data(this,t,Object.create(e).init(n,$(this)))})}},$.plugin("animateJs",$.animateJs)});